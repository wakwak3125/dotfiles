#!/bin/sh
# クロスプラットフォーム クリップボードコピー
# Usage: echo "text" | pbcopy
#        pbcopy < file.txt

if [ -n "$WSL_DISTRO_NAME" ] || grep -qi microsoft /proc/version 2>/dev/null; then
  # WSL2
  clip.exe
elif [ "$(uname -s)" = "Darwin" ]; then
  # macOS
  /usr/bin/pbcopy
else
  # Linux (X11/Wayland)
  if command -v xclip >/dev/null 2>&1; then
    xclip -selection clipboard
  elif command -v xsel >/dev/null 2>&1; then
    xsel --clipboard --input
  elif command -v wl-copy >/dev/null 2>&1; then
    wl-copy
  else
    echo "Error: No clipboard tool found. Install xclip, xsel, or wl-clipboard." >&2
    exit 1
  fi
fi
